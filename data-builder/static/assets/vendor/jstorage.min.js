/** https://github.com/martinkr/jStorage - Copyright (c) 2011 Martin Krause - Dual licensed under the MIT and GPL licenses. */
(function(a){a.storage=function(){var d={localStorage:("localStorage" in window&&window.localStorage!==null)?"localStorage":"cookie",sessionStorage:("sessionStorage" in window&&window.sessionStorage!==null)?"sessionStorage":"cookie",cookie:"cookie",data:"data",status:"status",options:"options"};var c={sType:"data"};var g=function(){if(!jQuery.jCookie){throw new Error("[jQuery.storage] missing jQuery.jCookie. Get jcookie.min.js from https://github.com/martinkr/jCookie/")}if(!JSON){throw new Error("[jQuery.storage] missing JSON parser. Get json2.js from https://github.com/douglascrockford/JSON-js and / or visit json.org ")}}();var f=function(i,j){if(typeof(i)=="object"&&!i.type){i.type=c.sType}var k=typeof(i)=="string"?i:i.type;if(k.indexOf("Storage")!==-1&&d[k]=="cookie"){i.expires=(k=="sessionStorage")?"session":365}if(j){c.sType=d[k]}return{sType:d[k],sName:i.name||null,expires:i.expires||"session",secure:i.secure?true:false,path:i.path||false,domain:i.domain||false}};var e=function(m,i){var j=f(i);var k=j.sType;switch(k){case"options":return c[m];case"status":return d[m];case"data":if(jQuery(window).data("jStorage")===undefined){return undefined}return jQuery(window).data("jStorage")[m];case"cookie":m=["jStorage_",m].join("");var l=jQuery.jCookie(m);if(l){return JSON.parse(jQuery.jCookie(m))}else{return l}case"sessionStorage":case"localStorage":return window[k].getItem(m)}return undefined};var b=function(o,k,i){var n=(k===null)?false:true;var j=f(i||{type:c.sType},n);var m=j.sType;switch(m){case"data":var l=jQuery(window).data("jStorage")||{};if(k===null){return delete (l[o])}l[o]=k;jQuery(window).data("jStorage",l);return true;case"cookie":o=["jStorage_",o].join("");if(k===null){jQuery.jCookie(o,null);return true}jQuery.jCookie(o,JSON.stringify(k),j.expires,j);return true;case"sessionStorage":case"localStorage":if(k===null){window[m].removeItem(o);return true}window[m].setItem(o,k);return true}return false};var h=function(i){var l=f(i||{type:c.sType},false);var o=l.sType;var j=0;var n,m;switch(o){case"data":m=jQuery(window).data("jStorage")||{};for(n in m){j++}break;case"cookie":_aData=document.cookie.split(";")||{};var k=_aData.length;while(k--){if(_aData[k].indexOf("jStorage_")!==-1){j++}}break;case"sessionStorage":case"localStorage":j=window[o].length;break}return j};return{getItem:function(j,i){return e(j,i)},setItem:function(k,j,i){b(k,j,i)},removeItem:function(j,i){b(j,null,i)},length:function(i){return h(i)}}}()})(jQuery);